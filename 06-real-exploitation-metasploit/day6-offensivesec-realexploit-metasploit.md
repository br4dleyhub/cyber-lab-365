# **OFFENSIVE SECURITY**

### ***DAY 6 — STEP 7: REAL EXPLOITATION WITH METASPLOIT***


##### *VM: Kali Linux (Attacker) → Metasploitable2 (Victim)*

*Target IP: 192.168.187.40*


*Today, I performed a real-world exploitation workflow against an intentionally vulnerable machine (Metasploitable2).*
*The goal was to identify a vulnerable service, exploit it, obtain a shell, stabilize access, escalate privileges, and perform post-exploitation enumeration.*

**This step represents the transition from reconnaissance to active compromise.**
##

1. ##### **Launch Metasploit Framework**


*I started by launching Metasploit from Kali Linux.*
* msfconsole


What this command does:
* Starts the Metasploit Framework console
* Loads exploit modules, payloads, encoders, and post-exploitation tools
* Provides an interactive environment for exploitation


Why this matters:
Metasploit is one of the most widely used exploitation frameworks by:

1. Red teams
2. Penetration testers
3. Adversaries
4. Knowing how to operate it correctly is a core offensive security skill.


Screenshot:
[launch-msfconsole](/06-real-exploitation-metasploit/screenshots/launch-msfconsole.png)

##


##### **2.Identify and Select a Vulnerable Service (FTP)**


*From previous scanning (Day 5), I identified vsftpd 2.3.4, a known vulnerable FTP service on Metasploitable2.*
I searched for the exploit inside Metasploit:

* search vsftpd

Then selected the exploit module:
* use exploit/unix/ftp/vsftpd\_234\_backdoor


What this does:
* Loads a module that exploits a backdoored FTP version
* When triggered, it opens a shell on the target

Why this matters:
This demonstrates:
1. Mapping scan results → real exploits
2. Understanding version-based vulnerabilities
3. Exploiting exposed services


Screenshot:
[ftp-exploit](/06-real-exploitation-metasploit/screenshots/ftp-exploit.png)


##


##### **3.Configure and Run the Exploit**

*I configured the target IP and launched the exploit:*
* set RHOSTS 192.168.187.40
* run


What happens technically:
1. Metasploit connects to the FTP service
2. Triggers the malicious backdoor
3. Opens a command shell on the victim



**Result:**
* Initial shell access obtained
*This confirms remote code execution (RCE).*

##


##### **4.Stabilize the Shell**

*The initial shell is unstable and limited.*
*I stabilized it for better interaction.*

Example technique:
* python -c 'import pty; pty.spawn("/bin/bash")'

Why stabilization is required:
1. Enables tab completion
2. Prevents shell crashes
3. Allows running privilege escalation tools

Screenshot:
[stabilize-the-shell](/06-real-exploitation-metasploit/screenshots/stabilize-the-shell.png)


##


##### **5.Privilege Escalation to Root**

*After gaining shell access, I checked privileges and escalated to root.*
* whoami
* id

**Result:**
1. The exploit provided root-level access
2. I confirmed full administrative control.


Why this is critical:
Privilege escalation is often:
1. The difference between limited access and total system compromise
2. A key objective for attackers

Screenshot:
[proof-of-root-access](/06-real-exploitation-metasploit/screenshots/proof-of-root-access.png)


##


##### **6.Post-Exploitation Enumeration**

*With root access, I performed post-exploitation tasks.*

Examples:
1. uname -a
2. cat /etc/passwd
3. cat /etc/shadow


What this stage represents:
* Credential harvesting
* User enumeration
* System intelligence gathering
* Preparation for lateral movement or persistence


Why it matters:
This is where attackers:
1. Steal credentials
2. Install backdoors
3. Prepare pivoting to other machines



Screenshots:
[post-exploitation-1](/06-real-exploitation-metasploit/screenshots/post-exploitation-1.png)

[post-exploitation-2](/06-real-exploitation-metasploit/screenshots/post-exploitation-2.png)


##



##### **7.Privilege Escalation Logic (Attacker Mindset)**

*During this step, I analyzed:*

* Kernel version
* SUID binaries
* Weak configurations
* Default credentials

***This logic is transferable to real Linux servers.***


Screenshot:
[linux-privilege-escalation-logic](/06-real-exploitation-metasploit/screenshots/linux-privilege-escalation-logic.png)


##



##### **DAY 6 — STEP 7 COMPLETE** 

✔ Metasploit launched
✔ Vulnerable service identified
✔ Exploit executed successfully
✔ Shell obtained
✔ Shell stabilized
✔ Root access confirmed
✔ Post-exploitation performed

##


##### **WHAT I DID**
1. I used Metasploit to exploit a vulnerable FTP service.
2. I obtained and stabilized a remote shell.
3. I escalated privileges to root.
4. I performed post-exploitation enumeration.

##

##### **WHAT I LEARNED**

1. *How real exploits are selected and executed.*
2. *How Metasploit modules work internally.*
3. *How attackers move from access → control.*
4. *Why privilege escalation is critical.*
5. *What attackers do after compromise.*
6. *WHY THIS IS IMPORTANT*
7. *This mirrors real attacker behavior.*
8. *Most real breaches exploit known vulnerabilities.*
9. *SOC analysts must understand this process to:*
10. *Detect exploitation*
11. *Investigate compromises*
12. *Respond effectively*
